{{ define "main" }}
<div class="w-full md:w-5/6 lg:w-4/5 mx-auto px-4 py-12">
    <h1 class="text-3xl md:text-5xl font-bold mb-8 md:mb-12 text-text-primary-light dark:text-text-primary-dark">{{ .Title }}</h1>

    {{ $projectsData := index site.Data .Language.Lang "projects" }}
    {{ $projects := $projectsData.projects }}

    {{ if $projects }}
    <div class="overflow-x-auto rounded-xl border border-border-primary-light dark:border-border-primary-dark bg-bg-primary-light dark:bg-bg-secondary-dark shadow-md">
        <table class="min-w-full">
            <thead class="bg-neutral-100 dark:bg-neutral-800 text-left text-sm uppercase tracking-wide text-text-secondary-light dark:text-text-secondary-dark">
                <tr>
                    <th class="px-4 py-3">Project</th>
                    <th class="px-4 py-3 w-2/3">Summary</th>
                    <th class="px-4 py-3 w-28">Link</th>
                </tr>
            </thead>
            <tbody class="divide-y divide-border-primary-light dark:divide-border-primary-dark">
                {{ range $projects }}
                <tr class="hover:bg-neutral-50 dark:hover:bg-neutral-800/60 transition-colors">
                    <td class="px-4 py-4 align-top">
                        <div class="font-semibold text-lg text-text-primary-light dark:text-text-primary-dark">{{ .title }}</div>
                    </td>
                    <td class="px-4 py-4 align-top text-sm text-text-secondary-light dark:text-text-secondary-dark">
                        {{ .description }}
                    </td>
                    <td class="px-4 py-4 align-top">
                        {{ with .link }}
                        <a href="{{ . }}" class="inline-flex items-center gap-1 text-sm font-semibold text-accent-light dark:text-accent-dark hover:underline">
                            Repo
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 3h7m0 0v7m0-7L10 14m-4 7h7" />
                            </svg>
                        </a>
                        {{ end }}
                    </td>
                </tr>
                {{ end }}
            </tbody>
        </table>
    </div>
    {{ else }}
    <p class="text-text-secondary-light dark:text-text-secondary-dark">No project data found. Add entries to <code>data/en/projects.toml</code>.</p>
    {{ end }}
</div>

<style>
    /* Responsive table that stacks on small screens */
    @media (max-width: 768px) {
        table thead {
            display: none;
        }
        table tbody tr {
            display: block;
            border-bottom: 1px solid var(--border-color, #e5e7eb);
            padding: 0.75rem 0;
        }
        table tbody tr td {
            display: block;
            width: 100%;
            padding: 0.35rem 1rem;
        }
        table tbody tr td:nth-child(1) {
            padding-top: 0.75rem;
        }
    }
</style>
{{ end }}
